{"ast":null,"code":"var _jsxFileName = \"/Users/nklsstlr/work/github/codenames/client/src/components/OnlinePlayersHooks/OnlinePlayersHooks.js\";\nimport React, { useState, useEffect } from \"react\";\nimport SimpleUserTable from \"../OnlinePlayersHoC/SimpleOnlinePlayerList\";\nimport io from \"socket.io-client\";\nimport queryString from \"query-string\";\nlet socket;\n\nconst OnlinePlayersHooks = ({\n  nameFromURL\n}) => {\n  console.log(nameFromURL);\n  const ENDPOINT = \"http://localhost:3002\";\n  const [userData, setUserData] = useState([]);\n  const [data, setData] = useState({\n    users: [],\n    isFetching: false\n  });\n  useEffect(() => {\n    socket = io(ENDPOINT);\n    console.log(\"onlineUsers\");\n    socket.on(\"onlineUsers\", ({\n      users\n    }) => {\n      console.log(\"socketio für onlineUsers: \" + users);\n      setUserData(users);\n    });\n  }, []);\n  useEffect(() => {\n    console.log(\"start\");\n    const {\n      nameData\n    } = {\n      nameFromURL\n    };\n    socket.emit(\"join\", {\n      nameData\n    }, error => {\n      if (error) {\n        alert(error);\n      }\n    });\n  }, [ENDPOINT]);\n  return /*#__PURE__*/React.createElement(SimpleUserTable, {\n    users: userData,\n    isFetching: data.isFetching,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 10\n    }\n  });\n};\n\nexport default OnlinePlayersHooks;","map":{"version":3,"sources":["/Users/nklsstlr/work/github/codenames/client/src/components/OnlinePlayersHooks/OnlinePlayersHooks.js"],"names":["React","useState","useEffect","SimpleUserTable","io","queryString","socket","OnlinePlayersHooks","nameFromURL","console","log","ENDPOINT","userData","setUserData","data","setData","users","isFetching","on","nameData","emit","error","alert"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,eAAP,MAA4B,4CAA5B;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAOC,WAAP,MAAwB,cAAxB;AAEA,IAAIC,MAAJ;;AACA,MAAMC,kBAAkB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAqB;AAC9CC,EAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AACA,QAAMG,QAAQ,GAAG,uBAAjB;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;AAEA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC;AAAEe,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,UAAU,EAAE;AAAzB,GAAD,CAAhC;AAEAf,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,MAAM,GAAGF,EAAE,CAACO,QAAD,CAAX;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAJ,IAAAA,MAAM,CAACY,EAAP,CAAU,aAAV,EAAyB,CAAC;AAAEF,MAAAA;AAAF,KAAD,KAAe;AACtCP,MAAAA,OAAO,CAACC,GAAR,CAAY,+BAA+BM,KAA3C;AACAH,MAAAA,WAAW,CAACG,KAAD,CAAX;AACD,KAHD;AAID,GAPQ,EAON,EAPM,CAAT;AASAd,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,UAAM;AAAES,MAAAA;AAAF,QAAe;AAAEX,MAAAA;AAAF,KAArB;AAEAF,IAAAA,MAAM,CAACc,IAAP,CAAY,MAAZ,EAAoB;AAAED,MAAAA;AAAF,KAApB,EAAmCE,KAAD,IAAW;AAC3C,UAAIA,KAAJ,EAAW;AACTC,QAAAA,KAAK,CAACD,KAAD,CAAL;AACD;AACF,KAJD;AAKD,GATQ,EASN,CAACV,QAAD,CATM,CAAT;AAWA,sBAAO,oBAAC,eAAD;AAAiB,IAAA,KAAK,EAAEC,QAAxB;AAAkC,IAAA,UAAU,EAAEE,IAAI,CAACG,UAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CA5BD;;AA8BA,eAAeV,kBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport SimpleUserTable from \"../OnlinePlayersHoC/SimpleOnlinePlayerList\";\nimport io from \"socket.io-client\";\nimport queryString from \"query-string\";\n\nlet socket;\nconst OnlinePlayersHooks = ({ nameFromURL }) => {\n  console.log(nameFromURL);\n  const ENDPOINT = \"http://localhost:3002\";\n  const [userData, setUserData] = useState([]);\n\n  const [data, setData] = useState({ users: [], isFetching: false });\n\n  useEffect(() => {\n    socket = io(ENDPOINT);\n    console.log(\"onlineUsers\");\n    socket.on(\"onlineUsers\", ({ users }) => {\n      console.log(\"socketio für onlineUsers: \" + users);\n      setUserData(users);\n    });\n  }, []);\n\n  useEffect(() => {\n    console.log(\"start\");\n    const { nameData } = { nameFromURL };\n\n    socket.emit(\"join\", { nameData }, (error) => {\n      if (error) {\n        alert(error);\n      }\n    });\n  }, [ENDPOINT]);\n\n  return <SimpleUserTable users={userData} isFetching={data.isFetching} />;\n};\n\nexport default OnlinePlayersHooks;\n"]},"metadata":{},"sourceType":"module"}